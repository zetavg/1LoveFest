// *************************************
//
//   Helpers
//   -> Extends, Functions, Mixins, Animations
//
// *************************************

// -------------------------------------
//   Extends
// -------------------------------------

// ----- Debug ----- //

%debug {
	background-color: rgba(pink, 0.8) !important;
}

// ----- Ellipsis ----- //

%ellipsis {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

// ----- Clearfix ----- //

%group::after {
	clear: both;
	content: "";
	display: table;
}

// ----- Image Replacement ----- //

%ir {
	background-color: transparent;
	border: 0;
	overflow: hidden;
	&:before {
		content: "";
		display: block;
		width: 0;
		height: 150%;
	}
}

// ----- Vertical-align Center ----- //

%vertical-center {
	position: relative;
	top: 50%;
	transform: translateY(-50%);
	-ms-transform: translateY(-50%);
	-webkit-transform: translateY(-50%);
}

%skybg {
	background-image: url(data:image/png;base64,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);
	@include background-size(100% 100%);
}

%white_grid_background {
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAQAAAAnZu5uAAAAHUlEQVR4AWMAgf+8/xn+AykghDF5gTAIRCKLIpgAY6EXpI/nQTYAAAAASUVORK5CYII=);
	background-repeat: repeat;
	background-position: 50% 50%;
}

.tal {
	display: block;
	clear: both;
	text-align: left;
}

.tar {
	display: block;
	clear: both;
	text-align: right;
}

// -------------------------------------
//   Functions
// -------------------------------------

// ----- strip units ----- //

@function strip-units($number) {
	@return $number / ($number * 0 + 1);
}

// ----- em ----- //

@function em($target, $context: $base-fontSize) {
	@if $target == 0 {
		@return 0;
	}
	@else {
		@return #{$target / $context}em;
	}
}

// ----- rem ----- //

@function rem($size) {
	@return #{$size / $base-fontSize}rem;
}

// ----- Vertical Rhythm ----- //


@mixin rhythm-to($leader: 0, $padding-leader: 0, $padding-trailer: 0, $trailer: 0, $font-size: $base-font-size) {
	@include adjust-font-size-to($font-size);
	@include rhythm($leader, $padding-leader, $padding-trailer, $trailer, $font-size);
}

// -------------------------------------
//   Mixins
// -------------------------------------

// ----- Respond-to ----- //

@mixin respond-to($val, $query: min-width, $media: screen) {
	@media #{$media} and ($query: $val) {
		@content;
	}
}

// ----- Selection ------ //

@mixin selection($color, $background) {
	$prefixes: ("-moz-", "");
	@each $prefix in $prefixes {
		::#{$prefix}selection {
			color: $color;
			background: $background;
		}
	}
}

// ----- position: sticky ------ //

@mixin position-sticky() {
	position: -webkit-sticky;
	position: -moz-sticky;
	position: -o-sticky;
	position: -ms-sticky;
	position: sticky;
	top: 0;
}

// ----- Backgrounds ------ //

@mixin white_dot_background {

	&::before {
		content: " ";
		display: block;
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAQAAAAnZu5uAAAAHUlEQVR4AWMAgf+8/xn+AykghDF5gTAIRCKLIpgAY6EXpI/nQTYAAAAASUVORK5CYII=);
		background-repeat: repeat;
		background-position: 50% 50%;
	}
}

// ----- susy: span-center ------ //

@mixin span-center($columns, $total-columns) {
	@include span-columns($columns, $total-columns);
	@include pre(($total-columns - $columns)/2, $total-columns);
}

// ----- Magic parallax mixins ----- //

$parallax-perspective : 1 !default;
$parallax-element     : "body" !default;
$parallax-ios         : true !default;

@mixin parallax-init(
	$perspective  : $parallax-perspective,
	$element      : $parallax-element,
	$parallax-ios : $parallax-ios
	) {
	@if $element == "body" {
		html, body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
			overflow: hidden;
		}
	}
	#{$element} {
		overflow: auto;
		@include perspective($perspective * 1px);
		@include transform-style(preserve-3d);
		// Allows for smooth scrolling but disables parallax effects.
		@if $parallax-ios == false {
			-webkit-overflow-scrolling: touch;
		}
		// Preserve 3D
		&, * {
			@include transform-style(preserve-3d);
		}
	}
}

@mixin parallax-container(
	$perspective  : $parallax-perspective,
	$element      : $parallax-element,
	$parallax-ios : $parallax-ios
	) {
	overflow: auto;
	@include perspective($perspective * 1px);
	@include transform-style(preserve-3d);
	// Allows for smooth scrolling but disables parallax effects.
	@if $parallax-ios == false {
		-webkit-overflow-scrolling: touch;
	}
	// Preserve 3D
	&, * {
		@include transform-style(preserve-3d);
	}
}

@mixin parallax(
	$distance    : 0,
	$perspective : $parallax-perspective
	) {
	@include transform(
		translateZ($distance * $perspective * 1px)
		scale(abs($distance - 1))
	);
	z-index: $distance * 1000;
}

@mixin clip-path($clip) {
	-webkit-clip-path: $clip;
	-webkit-clip-path: $clip;
	-moz-clip-path: $clip;
	-ms-clip-path: $clip;
	clip-path: $clip;
}

// ----- 2xbg ------ //

@mixin background-image-2x($image, $width, $height) {
	@media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6/2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
		/* on retina, use image that's scaled by 2 */
		background-image: url($image);
		background-size: $width $height;
	}
}

// -------------------------------------
//   Animations
// -------------------------------------

$FlashingColors-r: #e10006;
$FlashingColors-g: #15ff05;
$FlashingColors-b: #0500f6;
$FlashingColors-r2: #e60889;
$FlashingColors-g2: #c100de;
$FlashingColors-b2: #e5ff00;

@-webkit-keyframes FlashingColors {
	0% {
		color: $FlashingColors-r;
	}
	16% {
		color: $FlashingColors-g;
	}
	34% {
		color: $FlashingColors-b;
	}
	51% {
		color: $FlashingColors-r2;
	}
	68% {
		color: $FlashingColors-g2;
	}
	85% {
		color: $FlashingColors-b2;
	}
}
@-moz-keyframes FlashingColors {
	0% {
		color: $FlashingColors-r;
	}
	16% {
		color: $FlashingColors-g;
	}
	34% {
		color: $FlashingColors-b;
	}
	51% {
		color: $FlashingColors-r2;
	}
	68% {
		color: $FlashingColors-g2;
	}
	85% {
		color: $FlashingColors-b2;
	}
}
@-ms-keyframes FlashingColors {
	0% {
		color: $FlashingColors-r;
	}
	16% {
		color: $FlashingColors-g;
	}
	34% {
		color: $FlashingColors-b;
	}
	51% {
		color: $FlashingColors-r2;
	}
	68% {
		color: $FlashingColors-g2;
	}
	85% {
		color: $FlashingColors-b2;
	}
}
@-o-keyframes FlashingColors {
	0% {
		color: $FlashingColors-r;
	}
	16% {
		color: $FlashingColors-g;
	}
	34% {
		color: $FlashingColors-b;
	}
	51% {
		color: $FlashingColors-r2;
	}
	68% {
		color: $FlashingColors-g2;
	}
	85% {
		color: $FlashingColors-b2;
	}
}
@keyframes FlashingColors {
	0% {
		color: $FlashingColors-r;
	}
	16% {
		color: $FlashingColors-g;
	}
	34% {
		color: $FlashingColors-b;
	}
	51% {
		color: $FlashingColors-r2;
	}
	68% {
		color: $FlashingColors-g2;
	}
	85% {
		color: $FlashingColors-b2;
	}
}
